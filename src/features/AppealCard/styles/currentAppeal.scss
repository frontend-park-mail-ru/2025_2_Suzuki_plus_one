@use '@shared/styles/media';
@use '@shared/styles/mixins';

.support-chat {
    &__content {
        display: flex;
        flex-direction: column;
        height: 85vh;
        background: linear-gradient(to bottom, var(--color-bg), var(--color-blue));
        font-family: inherit;
    }

    &__header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--padding-medium) var(--padding-large);
        background-color: var(--color-bg);
        border-bottom: var(--border);
        flex-shrink: 0;
    }

    &__tag {
        background: var(--color-blue);
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
    }

    &__status {
        font-size: 14px;
        font-weight: 500;
        padding: 4px 12px;
        border-radius: 20px;

        &--open { background: #e3f2fd; color: #1976d2; }
        &--in_progress { background: #fff3e0; color: #f57c00; }
        &--closed { background: #f5f5f5; color: #757575; }
    }

    &__messages {
        flex: 1;
        overflow-y: auto;
        padding: var(--padding-large);
        display: flex;
        flex-direction: column;
        gap: var(--padding-medium);
        background: var(--color-bg-light);
    }

    &__message {
        display: flex;
        flex-direction: column;
        max-width: 80%;
        align-self: flex-start;

        &--user {
            align-self: flex-end;
            .support-chat__bubble {
                background: var(--color-blue);
                color: white;
            }
        }

        &--support {
            align-self: flex-start;
            .support-chat__bubble {
                background: var(--color-blue);
                color: var(--color-text);
            }
        }
    }

    &__bubble {
        padding: var(--padding-medium);
        border-radius: var(--border-radius);
        border-bottom-left-radius: 4px;
        border-bottom-right-radius: 4px;
        word-wrap: break-word;
        font-size: 15px;
        line-height: 1.5;
    }

    &__time {
        font-size: 11px;
        color: var(--color-light-gray);
        margin-top: 4px;
        align-self: flex-end;
    }

    &__actions {
        display: flex;
        justify-content: center;
        gap: var(--padding-large);
        padding: var(--padding-medium);
        background: var(--color-bg);
        border-top: var(--border);
        flex-shrink: 0;
    }

    &__action-btn {
        @include mixins.reset-button;
        width: 300px;
        height: 50px;
        border: var(--color-bg-light);
        border-radius: 50%;
        background: var(--color-bg-light);
        border: 1px solid var(--color-light-gray);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        color: var(--color-gray);

        @include media.hover {
            background: var(--color-blue);
            color: white;
            border-color: var(--color-blue);
        }
    }

    &__reply {
        display: flex;
        flex-direction: column;
        padding: var(--padding-large);
        background: var(--color-bg);
        border-top: var(--border);
        gap: var(--padding-small);
        flex-shrink: 0;
    }

    &__reply-input {
        width: 100%;
        padding: var(--padding-medium);
        border: 1px solid var(--color-light-gray);
        border-radius: var(--border-radius);
        resize: none;
        font-family: inherit;
        font-size: 15px;

        &:focus {
            outline: none;
            border-color: var(--color-blue);
        }
    }

    &__send-btn {
        align-self: flex-end;
        padding: 10px 20px;
        background: var(--color-blue);
        color: white;
        border: none;
        border-radius: var(--border-radius);
        font-weight: 600;
        cursor: pointer;

        @include media.hover {
            background: #1565c0;
        }
    }

    &__error {
        text-align: center;
        color: var(--color-red);
        padding: var(--padding-large);
        font-size: 14px;
    }

    &__reply {
            display: flex;
            flex-direction: column;
            padding: var(--padding-large);
            background: var(--color-bg);
            border-top: var(--border);
            gap: var(--padding-small);
            flex-shrink: 0;

            &[hidden] {
                display: none;
            }
        }
}